import{r as n}from"./index.BbCjBGhI.js";import{s}from"./storage.0hWDOvc9.js";import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{a as c}from"./utils.DWbH76R9.js";function E(){const[r,a]=n.useState([]),[o,l]=n.useState([]),[v,g]=n.useState({name:"",rif:"",address:"",phone:"",email:"",taxPercentage:16,currency:"USD"}),u=n.useCallback(()=>{a(s.getCustomers()),l(s.getInvoices()),g(s.getBusinessSettings())},[]);n.useEffect(()=>{u();const e=m=>{m.key?.includes("invoice_")&&u()};window.addEventListener("storage",e);const t=()=>u();return window.addEventListener("storage-update",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("storage-update",t)}},[u]);const d=()=>{window.dispatchEvent(new CustomEvent("storage-update"))};return{customers:r,invoices:o,settings:v,refreshData:u,saveCustomer:e=>{const t=s.saveCustomer(e);return d(),t},updateCustomer:(e,t)=>{const m=s.updateCustomer(e,t);return d(),m},deleteCustomer:e=>{const t=s.deleteCustomer(e);return d(),t},saveInvoice:e=>{const t=s.saveInvoice(e);return d(),t},updateInvoice:(e,t)=>{const m=s.updateInvoice(e,t);return d(),m},deleteInvoice:e=>{const t=s.deleteInvoice(e);return d(),t},saveSettings:e=>{s.saveBusinessSettings(e),d()},clearAll:()=>{s.clearAll(),d()},getNextInvoiceNumber:()=>s.getNextInvoiceNumber(),getCustomer:e=>s.getCustomer(e),getInvoice:e=>s.getInvoice(e)}}const p=n.forwardRef(({className:r,...a},o)=>i.jsx("div",{ref:o,className:c("rounded-xl border bg-card text-card-foreground shadow",r),...a}));p.displayName="Card";const C=n.forwardRef(({className:r,...a},o)=>i.jsx("div",{ref:o,className:c("flex flex-col space-y-1.5 p-6",r),...a}));C.displayName="CardHeader";const f=n.forwardRef(({className:r,...a},o)=>i.jsx("div",{ref:o,className:c("font-semibold leading-none tracking-tight",r),...a}));f.displayName="CardTitle";const x=n.forwardRef(({className:r,...a},o)=>i.jsx("div",{ref:o,className:c("text-sm text-muted-foreground",r),...a}));x.displayName="CardDescription";const w=n.forwardRef(({className:r,...a},o)=>i.jsx("div",{ref:o,className:c("p-6 pt-0",r),...a}));w.displayName="CardContent";const N=n.forwardRef(({className:r,...a},o)=>i.jsx("div",{ref:o,className:c("flex items-center p-6 pt-0",r),...a}));N.displayName="CardFooter";export{p as C,C as a,f as b,x as c,w as d,N as e,E as u};
