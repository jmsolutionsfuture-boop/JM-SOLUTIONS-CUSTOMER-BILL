---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/layout/Navbar.astro';
import InvoiceView from '../../components/invoice/InvoiceView';
const { id } = Astro.params;
---

<Layout title="Detalle Factura - Facturador Digital">
  <Navbar currentPath="/facturas" />
  
  
  <main class="max-w-[1280px] mx-auto px-6 py-12 print:p-0" data-invoice-id={id}>
    <div class="mb-8 print:hidden">
      <a href="/facturas" class="text-primary font-medium hover:underline flex items-center gap-2">
        <span>‚Üê</span> Volver a Facturas
      </a>
    </div>

    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12 print:hidden">
      <h1 class="text-4xl font-bold font-primary text-slate-900">Detalle de Factura</h1>
      <div class="flex gap-4">
        <button id="print-btn" class="btn btn-outline shadow-sm" onclick="window.print()">
          <span class="mr-2">üñ®Ô∏è</span> Imprimir
        </button>
        <button id="download-pdf-btn" class="btn btn-primary shadow-lg" onclick="alert('Sugerencia: Para descargar como PDF, usa la opci√≥n \'Guardar como PDF\' en el di√°logo de impresi√≥n.'); window.print();">
          <span class="mr-2">‚¨áÔ∏è</span> Descargar PDF
        </button>
      </div>
    </div>

    <div id="invoice-view-wrapper" class="bg-slate-600 p-4 md:p-12 rounded-2xl shadow-inner min-h-[900px] flex justify-center items-start overflow-auto print:bg-white print:p-0 print:shadow-none print:rounded-none print:block">
      <InvoiceView client:only="react" id={id as string} />
    </div>
  </main>
</Layout>

<style>
  /* Print logic now handled via Tailwind 'print:' modifiers and Layout.astro */
</style>
